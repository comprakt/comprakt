<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>libFirm: Statistic Events</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">libFirm
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00168.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Statistic Events</div>  </div>
</div><!--header-->
<div class="contents">

<p>The statistics system helps to evaluate the effects of compiler passes and transformations.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga10187ec3092c6b7842bb6859d1d412e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00168.html#ga10187ec3092c6b7842bb6859d1d412e0">stat_ev_ctx_push_fmt</a> (const char *key, const char *fmt,...)</td></tr>
<tr class="memdesc:ga10187ec3092c6b7842bb6859d1d412e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pushes a new setting on the context stack.  <a href="#ga10187ec3092c6b7842bb6859d1d412e0">More...</a><br/></td></tr>
<tr class="separator:ga10187ec3092c6b7842bb6859d1d412e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ad0962f854086d3cb632f4be1710ade"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00168.html#ga2ad0962f854086d3cb632f4be1710ade">stat_ev_ctx_push_str</a> (const char *key, const char *str)</td></tr>
<tr class="memdesc:ga2ad0962f854086d3cb632f4be1710ade"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pushes a new setting with a string value on the context stack.  <a href="#ga2ad0962f854086d3cb632f4be1710ade">More...</a><br/></td></tr>
<tr class="separator:ga2ad0962f854086d3cb632f4be1710ade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacaa9090bac9ee99deacb323988d67dee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00168.html#gacaa9090bac9ee99deacb323988d67dee">stat_ev_ctx_pop</a> (const char *key)</td></tr>
<tr class="memdesc:gacaa9090bac9ee99deacb323988d67dee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pops last setting from context stack.  <a href="#gacaa9090bac9ee99deacb323988d67dee">More...</a><br/></td></tr>
<tr class="separator:gacaa9090bac9ee99deacb323988d67dee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ebd8d6a9dc6f163c9f1c40002038cc7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00168.html#ga8ebd8d6a9dc6f163c9f1c40002038cc7">stat_ev_dbl</a> (const char *name, double value)</td></tr>
<tr class="memdesc:ga8ebd8d6a9dc6f163c9f1c40002038cc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emits a statistic event with a double value.  <a href="#ga8ebd8d6a9dc6f163c9f1c40002038cc7">More...</a><br/></td></tr>
<tr class="separator:ga8ebd8d6a9dc6f163c9f1c40002038cc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc07d462c6147a75aff6162f7f194c71"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00168.html#gafc07d462c6147a75aff6162f7f194c71">stat_ev_int</a> (const char *name, int value)</td></tr>
<tr class="memdesc:gafc07d462c6147a75aff6162f7f194c71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emits a statistic event with an integer value.  <a href="#gafc07d462c6147a75aff6162f7f194c71">More...</a><br/></td></tr>
<tr class="separator:gafc07d462c6147a75aff6162f7f194c71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf4f2cbfd682cb7b7442d970edb591cf0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00168.html#gaf4f2cbfd682cb7b7442d970edb591cf0">stat_ev_ull</a> (const char *name, unsigned long long value)</td></tr>
<tr class="memdesc:gaf4f2cbfd682cb7b7442d970edb591cf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emits a statistic event with an unsigned long long value.  <a href="#gaf4f2cbfd682cb7b7442d970edb591cf0">More...</a><br/></td></tr>
<tr class="separator:gaf4f2cbfd682cb7b7442d970edb591cf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad8509dd502e90f79c070e06c24342d07"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00168.html#gad8509dd502e90f79c070e06c24342d07">stat_ev</a> (const char *name)</td></tr>
<tr class="memdesc:gad8509dd502e90f79c070e06c24342d07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emits a statistic event (without an additional value).  <a href="#gad8509dd502e90f79c070e06c24342d07">More...</a><br/></td></tr>
<tr class="separator:gad8509dd502e90f79c070e06c24342d07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3eeb4ff21beab71f42ec8715f5d79b89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00168.html#ga3eeb4ff21beab71f42ec8715f5d79b89">stat_ev_begin</a> (const char *filename_prefix, const char *filter)</td></tr>
<tr class="memdesc:ga3eeb4ff21beab71f42ec8715f5d79b89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the stat ev machinery.  <a href="#ga3eeb4ff21beab71f42ec8715f5d79b89">More...</a><br/></td></tr>
<tr class="separator:ga3eeb4ff21beab71f42ec8715f5d79b89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad91bcea12aecee876b2990504503af9d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00168.html#gad91bcea12aecee876b2990504503af9d">stat_ev_end</a> (void)</td></tr>
<tr class="memdesc:gad91bcea12aecee876b2990504503af9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shuts down stat ev machinery.  <a href="#gad91bcea12aecee876b2990504503af9d">More...</a><br/></td></tr>
<tr class="separator:gad91bcea12aecee876b2990504503af9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga0772ce573565c9789db3fa404d6b1a50"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00168.html#ga0772ce573565c9789db3fa404d6b1a50">stat_ev_enabled</a></td></tr>
<tr class="memdesc:ga0772ce573565c9789db3fa404d6b1a50"><td class="mdescLeft">&#160;</td><td class="mdescRight">This variable indicates whether statev output is enabled.  <a href="#ga0772ce573565c9789db3fa404d6b1a50">More...</a><br/></td></tr>
<tr class="separator:ga0772ce573565c9789db3fa404d6b1a50"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The statistics system helps to evaluate the effects of compiler passes and transformations. </p>
<p>It is typically used to collect information like the number of instruction before and behind a pass, counting specific patterns or measuring the timing of subcomponents. This can create quite a bit of data, so we provide a framework for producing such data in an organzied way and some external tools to analyse such data.</p>
<p>The system is based on 2 concepts: Events and Contexts. A statistic-event is a pair of an event name and a double value. Events are put into a context like the compilation unit, the currently compiled function or the currently allocated register class. So contexts refine events and allow a grouping of events based on their context later. The context is managed in an hierarchic manner. You can push key/value pairs to refine the previous context or pop them again to get back to the previous broader context. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gad8509dd502e90f79c070e06c24342d07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stat_ev </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Emits a statistic event (without an additional value). </p>

</div>
</div>
<a class="anchor" id="ga3eeb4ff21beab71f42ec8715f5d79b89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stat_ev_begin </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename_prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the stat ev machinery. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename_prefix</td><td>The name of the file (.ev or .ev.gz will be appended). File will be truncated! </td></tr>
    <tr><td class="paramname">filter</td><td>All pushes, pops and events will be filtered by this. If we have regex support, you can give an extended regex here. If not, each key will be matched against this. Matched means, we look if the key starts with <code>filter</code>. If NULL is given, each key passes, ie the filter is always TRUE. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gacaa9090bac9ee99deacb323988d67dee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stat_ev_ctx_pop </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pops last setting from context stack. </p>

</div>
</div>
<a class="anchor" id="ga10187ec3092c6b7842bb6859d1d412e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stat_ev_ctx_push_fmt </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pushes a new setting on the context stack. </p>

</div>
</div>
<a class="anchor" id="ga2ad0962f854086d3cb632f4be1710ade"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stat_ev_ctx_push_str </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pushes a new setting with a string value on the context stack. </p>

</div>
</div>
<a class="anchor" id="ga8ebd8d6a9dc6f163c9f1c40002038cc7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stat_ev_dbl </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Emits a statistic event with a double value. </p>

</div>
</div>
<a class="anchor" id="gad91bcea12aecee876b2990504503af9d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stat_ev_end </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shuts down stat ev machinery. </p>

</div>
</div>
<a class="anchor" id="gafc07d462c6147a75aff6162f7f194c71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stat_ev_int </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Emits a statistic event with an integer value. </p>

</div>
</div>
<a class="anchor" id="gaf4f2cbfd682cb7b7442d970edb591cf0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stat_ev_ull </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Emits a statistic event with an unsigned long long value. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga0772ce573565c9789db3fa404d6b1a50"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stat_ev_enabled</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This variable indicates whether statev output is enabled. </p>

<p>Definition at line <a class="el" href="a00120_source.html#l00073">73</a> of file <a class="el" href="a00120_source.html">statev.h</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Jan 10 2019 10:26:33 for libFirm by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
